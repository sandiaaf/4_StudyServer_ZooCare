<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Detail Makan</ion-title>
    <ion-buttons slot="start">
        <ion-back-button defaultHref="/keepers"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Detail Makan</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Jadwal Makan</ion-card-title>
    </ion-card-header>
    <div class="" *ngIf="isHead">
      <div *ngFor="let s of schedules">
        <ion-list>
          <ion-item>
            <ion-label slot="start">
              <h2>- {{s.name}}</h2>
              <p>{{s.species}}</p>
            </ion-label>
            <ion-label slot="end">
              <h2>
                {{s.hour.toString().slice(0,5)}} WIB
              </h2>
              <ion-label>

                <ion-button id="btnOpen" shape="round" size="small" (click)="setOpen(true)">Open Image</ion-button>
                <ion-modal [isOpen]="isModalOpen">
                  <ng-template>
                    <ion-header>
                      <ion-toolbar>
                        <ion-title>Image</ion-title>
                        <ion-buttons slot="end">
                          <ion-button (click)="setOpen(false)">Close</ion-button>
                        </ion-buttons>
                      </ion-toolbar>
                    </ion-header>
                    <ion-content class="ion-padding">
                      <div class="image">
                        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjsEFelnYs6LJtm67Oed6Yv0D44ogfF1nqW1HPZE2iGeS0q2FWX8xXuMbSYKFBZxNaI3NuG1Xe-LtkmRLo_ja4ED07trtPfniBph2vegcxw_LkZsDSOcVtstkKSV0KGecTGjxnnCoI5rDg/s1600/Pegang+buaya+di+Blanakan..jpg" alt="">
                      </div>
                    </ion-content>
                  </ng-template>
                </ion-modal>

              </ion-label>
            </ion-label>
          </ion-item>

          <ion-button id="{{s.id}}" shape="round" expand="block"  size="default" (click)="getReportStatus(s.hour,s.id)">check Status</ion-button>

        </ion-list>
      </div>
    </div>

    <div class="" *ngIf="!isHead">
      <div *ngFor="let s of schedules; let i = index">
        <ion-list>
          <ion-item>
            <ion-label slot="start">
              <h2>- {{s.name}}</h2>
              <p>{{s.species}}</p>
            </ion-label>
            <ion-label slot="end">
              {{s.hour.toString().slice(0,5)}} WIB
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-input [(ngModel)]="schedules[i].input" id="s.name" label="Url Image" labelPlacement="floating" placeholder="Enter text"></ion-input>
          </ion-item>
          <ion-item>
            <ion-button id="{{s.id}}" shape="round" size="default" (click)="submit(s.id,s.hour,schedules[i].input)">Submit</ion-button>
          </ion-item>
        </ion-list>
      </div>
    </div>
  </ion-card>

</ion-content>
